#!/usr/bin/perl
require Modsecurity;
require CommonTestCase;
require Apache;
require Openssl;
use Switch;
use Term::ANSIColor;


LOOP:
printf "%s\n", colored( "\n\nSelect the Package to Test: \n 1. Mod_Security \n 2. Apache \n 3. OpenSSL\n\n", 'magenta' );

my $choice=<STDIN>;
if($choice==1)
	{
		$package="Mod_Security";
	}
elsif($choice==2)
	{
		$package="Apache";
	}
elsif($choice==3)
	{
		$package="OpenSSL";
	}



if(($choice<=3) && ($choice>0))
	{
		print "Your choice is $package\n\n";

#Modsecurity::Test();
#print "Enter the directory for package source\n\n";

		printf "%s\n", colored( "Enter the directory for package source\n\n", 'magenta' );
		$path=<STDIN>;
	}

#print $path;

switch ($choice)
	{
		case 1
			{
				Modsecurity::ModMain($path, $package);
				#print $package."\n\n";
				#CommonTestCase::ModMain($path, $package);
			}

		case 2
			{
				Apache::ModMain($path, $package);
			}
		case 3
			{
				Openssl::ModMain($path, $package);
			}
		else
			{
				print "Wrong Choice\nEnter either 1, 2 or 3\n";
				goto LOOP;
			}

	}
